# OTUS. Terraform

## План занятия: Развертывание MLOps инфраструктуры в Yandex Cloud

### 1. Настройка Terraform и провайдера
- Установка Terraform
  - https://yandex.cloud/ru/docs/tutorials/infrastructure-management/terraform-quickstart
  - https://developer.hashicorp.com/terraform/install

- Настройка Yandex Cloud провайдера
- Создание файла `provider.tf` с конфигурацией
- Настройка OAuth токена и идентификаторов облака

### 2. Создание вычислительных ресурсов
- Создание диска для виртуальной машины
- Настройка Compute Instance с:
  - Заданным количеством ядер и памяти
  - Подключением загрузочного диска
  - NAT для внешнего доступа
  - SSH ключами для доступа

### 3. Создание сетевой инфраструктуры
- Создание VPC сети (`yandex_vpc_network`)
- Настройка подсети (`yandex_vpc_subnet`)

### 4. Настройка системы хранения
- Создание сервисного аккаунта для работы с Object Storage
- Назначение роли `storage.admin` для сервисного аккаунта
- Генерация статических ключей доступа
- Создание S3-совместимого bucket в Yandex Object Storage

### 5. Работа с переменными
- Настройка файла `variables.tf`
- Создание `terraform.tfvars` с персональными данными
- Использование переменных для конфигурации ресурсов

### 6. Практическое развертывание
- Инициализация проекта: `terraform init`
- Проверка конфигурации: `terraform validate`
- Формирование плана развертывания: `terraform plan`
- Применение конфигурации: `terraform apply`
- Получение внешнего IP адреса созданной VM

### 7. Тестирование и очистка
- Подключение к созданной VM по SSH
- Проверка доступности Object Storage
- Удаление ресурсов: `terraform destroy`


